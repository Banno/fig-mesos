#
# Zookeeper
#
# https://registry.hub.docker.com/u/jplock/zookeeper/
#
zk:
  image: jplock/zookeeper:3.4.6
  net: "host"

#
# Mesos
#
# https://registry.hub.docker.com/u/redjack/mesos-master/
# http://mesos.apache.org/documentation/latest/configuration/
#
master:
  image: breerly/mesos
  command: mesos-master
  net: "host"
  environment:
    MESOS_CLUSTER: breerly/fig-mesos
    MESOS_HOSTNAME: localdocker
    MESOS_WORK_DIR: /var/lib/mesos
    MESOS_LOG_DIR: /var/log
    MESOS_QUORUM: 1
    MESOS_ZK: zk://localhost:2181/mesos

slave1:
  image: breerly/mesos
  command: supervisord -n
  privileged: true
  net: "host"
  environment:
    MESOS_CONTAINERIZERS: "docker,mesos"
    MESOS_HOSTNAME: localdocker1
    MESOS_MASTER: zk://localhost:2181/mesos

slave2:
  image: breerly/mesos
  command: supervisord -n
  privileged: true
  net: "host"
  environment:
    MESOS_CONTAINERIZERS: "docker,mesos"
    MESOS_HOSTNAME: localdocker2
    MESOS_MASTER: zk://localhost:2181/mesos
    MESOS_PORT: "5052"

slave3:
  image: breerly/mesos
  command: supervisord -n
  privileged: true
  net: "host"
  environment:
    MESOS_CONTAINERIZERS: "docker,mesos"
    MESOS_HOSTNAME: localdocker3
    MESOS_MASTER: zk://localhost:2181/mesos
    MESOS_PORT: "5053"

#
# Marathon
#
# https://registry.hub.docker.com/u/thefactory/marathon/
# https://mesosphere.github.io/marathon/docs/command-line-flags.html
#
marathon:
  image: superguenter/marathon
  net: "host"
  command: "--master zk://localhost:2181/mesos --zk zk://localhost:2181/marathon"

#
# Chronos
#
# https://registry.hub.docker.com/u/tomaskral/chronos/
#
chronos:
  image: tomaskral/chronos
  net: "host"
  command: "--master zk://localhost:2181/mesos --zk_hosts zk://localhost:2181/mesos --http_port 8081"

